webpackJsonp([1],{"8uxu":function(e,t){},"K/Sv":function(e,t){},K6VE:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("MVMM"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=a("Z0/y")({name:"App"},n,!1,function(e){a("8uxu")},null,null).exports,s=a("zO6J"),r={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"index"},[this._v("\n  多撒大所大所\n")])},staticRenderFns:[]};var o=a("Z0/y")({name:"index",data:function(){return{}}},r,!1,function(e){a("fnnO")},"data-v-083c8159",null).exports,c=a("HzJ8"),d=a.n(c),p=a("3cXf"),u=a.n(p),v=a("rVsN"),m=a.n(v),_=a("L7Pj"),f=a.n(_),h=a("vpRr"),y=a.n(h),b={name:"pay",data:function(){return{url:"",orderData:[],orderData_cost:[],current:[],readyPayOrder:[],allUrl:h.url}},created:function(){var e=this,t=window.location.href.split("=")[1];this.getDataAjax(t).then(function(t){200===t.code&&(e.orderData_cost=t.message)})},methods:{getDataAjax:function(e){return new m.a(function(t,a){f.a.ajax({type:"get",url:h.pay_getDataUrl+e,contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(e){t(e)},error:function(e){a(e)}})})},getDisabeld:function(e,t){var a=e.status;return"未付款"==a||"未付款(已拒绝)"==a?1:0},getPickOrder:function(e){this.readyPayOrder=e,console.log(this.readyPayOrder)},getSelectOrder:function(){var e=this.orderData_cost;console.log(e)},postSelectOrder:function(){var e=this.orderData_cost,t=[],a=this,l=!0,n=!1,i=void 0;try{for(var s,r=d()(e);!(l=(s=r.next()).done);l=!0){var o=s.value;!0===o.checked&&(delete o.checked,t.push(o))}}catch(e){n=!0,i=e}finally{try{!l&&r.return&&r.return()}finally{if(n)throw i}}f.a.ajax({type:"POST",url:this.allUrl+"/applyOrderList",data:{orderApplies:u()(t)},dataType:"JSON",headers:{userAgent:"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","Access-Control-Allow-Origin":"*"},success:function(e){console.log(e),a.loadUserOrder()},error:function(e){console.log(e.message)}})},orderStatus:function(e){return"NEW"==e?"未成团":"END_ORDER"==e?"订单结束":"FINISH"==e?"已成团":void 0},buttondisabled:function(e){if("未付款"!=e)return!0},alertButtonClass:function(e){return"#my"+e},alertButtonName:function(e){return"my"+e},clickOrder:function(e){this.current.push(e)},postAllPayOrderAlert:function(){var e=this,t=this;this.$confirm("您确定申请付款吗？, 付款申请?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.postAllPayOrder(),e.$message({type:"success",message:"提交成功！!"})}).catch(function(){e.$message({type:"info",message:"已取消申请"})})},postAllPayOrder:function(){var e=this.readyPayOrder,t=u()(e),a=this;f.a.ajax({type:"POST",url:this.allUrl+"/applyOrderList",data:{orderApplies:t},dataType:"JSON",headers:{userAgent:"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","Access-Control-Allow-Origin":"*"},success:function(e){console.log(e),a.loadUserOrder()},error:function(e){console.log(e.message)}})},getItemType:function(e){return"hotel"==e?"酒店":"flight"==e?"机票":"tool"==e?"旅游用品":"other"==e?"其他":"visa"==e?"签证":"car"==e?"用车":"flighotel"==e?"机加酒":"oneday"==e?"一日游":"gongying"==e?"供应商结算单":void 0}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pay"},[a("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:1}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:22}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticClass:"button_wrap",attrs:{type:"primary",disabled:!e.readyPayOrder.length},on:{click:e.postAllPayOrderAlert}},[e._v("付款申请")])],1)]),e._v(" "),a("el-col",{attrs:{span:1}},[a("div",{staticClass:"grid-content bg-purple"})])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.orderData_cost,"tooltip-effect":"dark"},on:{"selection-change":e.getPickOrder}},[a("el-table-column",{attrs:{type:"selection",selectable:e.getDisabeld,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNo",label:"预订平台订单号","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"类目","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-document"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.getItemType(t.row.type)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"category",label:"类别","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"formatDate",label:"使用日期","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"total",label:"金额","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"付款状态","show-overflow-tooltip":""}})],1)],1)},staticRenderFns:[]};var k=a("Z0/y")(b,g,!1,function(e){a("zlBG")},"data-v-b64e87fc",null).exports,x={name:"order",data:function(){return{detailUrl:y.a.detailUrl,deleteTripUrl:y.a.deleteTripUrl,orderUrl:y.a.orderUrl,editMsgUrl:y.a.editMsgUrl,downExcelUrl:y.a.downExcelUrl,deleteData:[],form:{title:""},messagebox:!1,formLabelWidth:"120px"}},created:function(){},methods:{downExcel:function(e,t){window.location.href=this.downExcelUrl+t.id},getPlane:function(e,t){var a=this,l=t.id;this.getDetail(l).then(function(e){a.$router.push({name:"plane_comp",params:{data:e}})})},editMsg:function(){var e=this,t=this;this.$confirm("您要保存此信息吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.editAjax().then(function(e){e.message}),t.messagebox=!1,e.$message({type:"success",message:"保存成功!"})}).catch(function(){e.$message({type:"info",message:"已取消保存"})})},editAjax:function(){var e=this.editMsgUrl,t=u()(this.form);return console.log(t),new m.a(function(a,l){f.a.ajax({type:"POST",url:e,data:t,crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(e){a(e)},error:function(e){l(e)}})})},getMessage:function(e,t){this.form=t,this.form.travel_date=this.fmtDate(this.form.travel_date),this.form.end_date=this.fmtDate(this.form.end_date),this.messagebox=!0,console.log(t)},deteleTripAjax:function(e){var t=this.deleteTripUrl;return new m.a(function(a,l){f.a.ajax({type:"GET",url:t+e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"JSON",success:function(e){a(e)},error:function(e){l(e)}})})},fmtDate:function(e){var t=new Date(e),a=1900+t.getYear(),l="0"+(t.getMonth()+1),n="0"+t.getDate();return a+"-"+l.substring(l.length-2,l.length)+"-"+n.substring(n.length-2,n.length)},deleteTrip:function(e,t){var a=this,l=t.id;this.$confirm("您将删除此行程单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deteleTripAjax(l).then(function(e){console.log(e),location.reload()}),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},getOrdered:function(e,t){var a=this;this.getDetail(t.id).then(function(e){a.$router.push({name:"travel_itinerary",params:{data:e,mess:t}})})},handleEdit:function(e,t){var a=this;this.getDetail(t.id).then(function(e){console.log(e),a.$router.push({name:"order_detail",params:{data:e,mess:t}})})},getDetail:function(e){var t=this.detailUrl;return new m.a(function(a,l){f.a.ajax({type:"GET",url:t+e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"JSON",success:function(e){a(e)},error:function(e){l(e)}})})}},props:{data:{type:Array,default:function(){return[]}}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"orderTable"},[a("el-dialog",{attrs:{title:"收货地址",visible:e.messagebox},on:{"update:visible":function(t){e.messagebox=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"行程单标题","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.itemNumber,callback:function(t){e.$set(e.form,"itemNumber",t)},expression:"form.itemNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行人姓名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.customer_name,callback:function(t){e.$set(e.form,"customer_name",t)},expression:"form.customer_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行人昵称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",laceholder:"请填写准确微信昵称(非微信账号)。"},model:{value:e.form.customer_wechat,callback:function(t){e.$set(e.form,"customer_wechat",t)},expression:"form.customer_wechat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行人手机号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.phoneNumber,callback:function(t){e.$set(e.form,"phoneNumber",t)},expression:"form.phoneNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出发地","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.start_point,callback:function(t){e.$set(e.form,"start_point",t)},expression:"form.start_point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"目的地","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.end_point,callback:function(t){e.$set(e.form,"end_point",t)},expression:"form.end_point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行日期","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.travel_date,callback:function(t){e.$set(e.form,"travel_date",t)},expression:"form.travel_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"归团日期","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.end_date,callback:function(t){e.$set(e.form,"end_date",t)},expression:"form.end_date"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.messagebox=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.editMsg}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{label:"订单号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.itemNumber)+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"行程单标题",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.title)+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.fmtDate(t.row.create_date))+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"顾客姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.customer_name)+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"顾客昵称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.customer_wechat)+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"出团日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.fmtDate(t.row.travel_date))+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"归团日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.fmtDate(t.row.end_date))+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"500"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("\n          行程\n      ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.getOrdered(t.$index,t.row)}}},[e._v("\n          行程预定单\n      ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.getPlane(t.$index,t.row)}}},[e._v("\n          机票\n      ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.getMessage(t.$index,t.row)}}},[e._v("\n          编辑信息\n      ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.downExcel(t.$index,t.row)}}},[e._v("\n          下载\n      ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteTrip(t.$index,t.row)}}},[e._v("\n          删除\n      ")])]}}])})],1)],1)},staticRenderFns:[]};var T={name:"trip",data:function(){return{data:[]}},created:function(){var e=this,t=window.location.href.split("=")[1];this.getDataAjax(t).then(function(t){e.data=t.message})},methods:{getReloadPage:function(e){this.data=e.message.list},getDataAjax:function(e){return new m.a(function(t,a){f.a.ajax({type:"get",url:h.orderUrl+e,contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(e){t(e)},error:function(e){a(e)}})})}},components:{orderTable:a("Z0/y")(x,C,!1,function(e){a("PBgb")},"data-v-42e4f3e5",null).exports}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"trip"},[t("orderTable",{attrs:{data:this.data},on:{reloadPage:this.getReloadPage}})],1)},staticRenderFns:[]};var $=a("Z0/y")(T,w,!1,function(e){a("cOag")},"data-v-507f34c2",null).exports,D={name:"order_trip",data:function(){return{data:[],mess:[],deleteDetailUrl:y.a.deleteDetailUrl,deleteDayUrl:y.a.deleteDayUrl,deleteTripUrl:y.a.deleteTripUrl,detailUrl:y.a.detailUrl,editTripUrl:y.a.editTripUrl}},created:function(){this.getData()},methods:{getDetail:function(){var e=this.detailUrl,t=this.mess.id;return new m.a(function(a,l){f.a.ajax({type:"GET",url:e+t,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"JSON",success:function(e){a(e)},error:function(e){l(e)}})})},getData:function(){0===this.$route.params.data.message[0].length?this.data=[{day:1,title:"",itemDescriptions:[{description:"",sort_id:0}]}]:this.data=this.$route.params.data.message[0].tripItems,this.mess=this.$route.params.mess,console.log(this.data)},saveCard:function(){var e=this.data;this.$emit("getCard",e)},createNewDay:function(){var e=this.data,t=e.length+1;e.push({day:t,title:"",itemDescriptions:[{description:""}]})},createDetail:function(e){this.data[e].itemDescriptions.push({description:""})},insertDay:function(e){var t=this.data,a=e.day;this.data.splice(a,0,{day:a,title:"",itemDescriptions:[{description:""}]});for(var l=0;l<t.length;l++)t[l].day=l+1},deleteDetail:function(e,t){var a=this,l=this.data;this.$confirm("您要删除此描述吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var n=l[e].itemDescriptions[t];void 0==n.id?l[e].itemDescriptions.splice(t,1):a.deteleDetailAjax(n.id).then(function(a){200===a.code?l[e].itemDescriptions.splice(t,1):alert(a.message)}),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},deteleDetailAjax:function(e){var t=this.deleteDetailUrl;return new m.a(function(a,l){f.a.ajax({type:"GET",url:t+e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"JSON",success:function(e){a(e)},error:function(e){l(e)}})})},deteleDayAjax:function(e){var t=this.deleteDayUrl;return new m.a(function(a,l){f.a.ajax({type:"GET",url:t+e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"JSON",success:function(e){a(e)},error:function(e){l(e)}})})},editTrip:function(){var e=this,t=this,a=this.mess,l=this.data;this.$confirm("您要保存此行程吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.tripItems=l,t.editAjax(u()(a)),console.log(a),e.$message({type:"success",message:"保存成功!"})}).catch(function(){e.$message({type:"info",message:"已取消保存"})})},editAjax:function(e){var t=this.editTripUrl;return new m.a(function(a,l){f.a.ajax({type:"POST",url:t,data:e,crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(e){a(e)},error:function(e){l(e)}})})},deteleDay:function(e){var t=this,a=this.data,l=a[e].id;this.$confirm("您要删除当天行程吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deteleDayAjax(l).then(function(t){console.log(t),200===t.code?a.splice(e,1):alert(t.message)});for(var n=0;n<a.length;n++)a[n].day=n+1;t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}},components:{}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order_trip"},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("制作行程单")])]),e._v(" "),e._l(e.data,function(t,l){return a("el-card",{key:t.id},[a("el-tag",[e._v("DAY"+e._s(t.day))]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.createDetail(l)}}},[e._v("\n                   新增描述\n        ")]),e._v(" "),a("i",{staticClass:"el-icon-delete",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.deteleDay(l)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus",staticStyle:{float:"right",cursor:"pointer"},on:{click:function(a){e.insertDay(t)}}}),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入当天标题"},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"i.title"}}),e._v(" "),a("el-card",e._l(t.itemDescriptions,function(n,i){return a("div",{staticStyle:{"margin-top":"20px"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:t.itemDescriptions[i].description,callback:function(a){e.$set(t.itemDescriptions[i],"description",a)},expression:"i.itemDescriptions[key].description"}}),e._v(" "),a("i",{staticClass:"el-icon-delete deleteIcon",on:{click:function(t){e.deleteDetail(l,i)}}})],1)}))],1)}),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-bottom":"10px"},attrs:{type:"primary"},on:{click:e.editTrip}},[e._v("保存")])],2)],1)},staticRenderFns:[]};var S=a("Z0/y")(D,I,!1,function(e){a("K/Sv")},"data-v-0f99c33e",null).exports,U={name:"plane_comp",data:function(){return{plane:{},planeTo:[],planeLand:[],planeBack:[],editTripUrl:y.a.editTripUrl}},created:function(){var e=this.$route.params.data.message[0].plane;this.plane=e,this.compPlane(e)},methods:{editFoo:function(){var e=this.planeTo.concat(this.planeLand,this.planeBack),t=this.$route.params.data.message[0];t.plane=e,console.log(t);var a=!0,l=!1,n=void 0;try{for(var i,s=d()(e);!(a=(i=s.next()).done);a=!0){var r=i.value;r.land_start_end_date=null,r.to_start_end_date=null,r.back_start_end_date=null}}catch(e){l=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(l)throw n}}this.editAjax(u()(t)).then(function(e){alert(e.message)})},editAjax:function(e){var t=this.editTripUrl;return new m.a(function(a,l){f.a.ajax({type:"POST",url:t,data:e,crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(e){a(e)},error:function(e){l(e)}})})},editPlane:function(){this.editAjax()},compPlane:function(e){var t=!0,a=!1,l=void 0;try{for(var n,i=d()(e);!(t=(n=i.next()).done);t=!0){var s=n.value;0==s.to_date_str.length&&0==s.to_desc.length&&0==s.to_number.length||this.planeTo.push(s),0==s.land_date_str.length&&0==s.land_desc.length&&0==s.land_number.length||this.planeLand.push(s),0==s.back_date_str.length&&0==s.back_desc.length&&0==s.back_number.length||this.planeBack.push(s)}}catch(e){a=!0,l=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw l}}},planeToInsert:function(){this.planeTo.push({to_date:"",to_number:"",to_desc:"",to_start_end_date:"",land_date:"",land_number:"",land_desc:"",land_start_end_date:"",back_date:"",back_number:"",back_desc:"",back_start_end_date:""})},planeToDel:function(e){this.planeTo.splice(e,1)},planeBackInsert:function(){this.planeBack.push({to_date:"",to_number:"",to_desc:"",to_start_end_date:"",land_date:"",land_number:"",land_desc:"",land_start_end_date:"",back_date:"",back_number:"",back_desc:"",back_start_end_date:""})},planeBackDel:function(e){this.planeBack.splice(e,1)},planeLandInsert:function(){this.planeLand.push({to_date:"",to_number:"",to_desc:"",to_start_end_date:"",land_date:"",land_number:"",land_desc:"",land_start_end_date:"",back_date:"",back_number:"",back_desc:"",back_start_end_date:""})},planeLandDel:function(e){this.planeLand.splice(e,1)}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plane"},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("机票")])]),e._v(" "),a("el-card",[a("div",{staticClass:"card_title"},[a("h3",[e._v("去程")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.planeTo.length,expression:"!planeTo.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.planeToInsert}})]),e._v(" "),e._l(e.planeTo,function(t,l){return a("div",{staticClass:"plane_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.planeToDel(l)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.planeToInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("去程日期")]),e._v(" "),a("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择日期时间"},model:{value:t.to_date,callback:function(a){e.$set(t,"to_date",a)},expression:"item.to_date"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("去程航班号")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 航班号"},model:{value:t.to_number,callback:function(a){e.$set(t,"to_number",a)},expression:"item.to_number"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("去程目的地-出发地")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 上海-南极"},model:{value:t.to_desc,callback:function(a){e.$set(t,"to_desc",a)},expression:"item.to_desc"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("去程出发时间-到达时间")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 出发时间-到达时间"},model:{value:t.to_start_end,callback:function(a){e.$set(t,"to_start_end",a)},expression:"item.to_start_end"}})],1)})],2),e._v(" "),a("el-card",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"card_title"},[a("h3",[e._v("回程")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.planeBack.length,expression:"!planeBack.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.planeBackInsert}})]),e._v(" "),e._l(e.planeBack,function(t,l){return a("div",{staticClass:"plane_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.planeBackDel(l)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.planeBackInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("回程日期")]),e._v(" "),a("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择日期时间"},model:{value:t.back_date,callback:function(a){e.$set(t,"back_date",a)},expression:"item.back_date"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("回程航班号")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 航班号"},model:{value:t.back_number,callback:function(a){e.$set(t,"back_number",a)},expression:"item.back_number"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("回程目的地-出发地")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 上海-南极"},model:{value:t.back_desc,callback:function(a){e.$set(t,"back_desc",a)},expression:"item.back_desc"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("回程出发时间-到达时间")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 出发时间-到达时间"},model:{value:t.back_start_end,callback:function(a){e.$set(t,"back_start_end",a)},expression:"item.back_start_end"}})],1)})],2),e._v(" "),a("el-card",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"card_title"},[a("h3",[e._v("联运段")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.planeLand.length,expression:"!planeLand.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.planeLandInsert}})]),e._v(" "),e._l(e.planeLand,function(t,l){return a("div",{staticClass:"plane_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.planeLandDel(l)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.planeLandInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("联运段日期")]),e._v(" "),a("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择日期时间"},model:{value:t.land_date,callback:function(a){e.$set(t,"land_date",a)},expression:"item.land_date"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("联运段航班号")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入航班号"},model:{value:t.land_number,callback:function(a){e.$set(t,"land_number",a)},expression:"item.land_number"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("联运段目的地-出发地")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 上海-南极"},model:{value:t.land_desc,callback:function(a){e.$set(t,"land_desc",a)},expression:"item.land_desc"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("联运段出发时间-到达时间")]),e._v(" "),a("div",{staticStyle:{margin:"10px"}},[e._v(e._s(t.back_start_end))]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 出发时间-到达时间"},model:{value:t.land_start_end,callback:function(a){e.$set(t,"land_start_end",a)},expression:"item.land_start_end"}})],1)})],2),e._v(" "),a("el-button",{staticStyle:{float:"right",margin:"10px"},attrs:{type:"success"},on:{click:e.editFoo}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var j=a("Z0/y")(U,O,!1,function(e){a("O1kq")},"data-v-ecef67e0",null).exports,E=a("a3Yh"),A=a.n(E)()({name:"travel_itinerary",data:function(){return{ticket:[],bus_ticket:[],chartered:[],schedule:[],isExist:!1,options:[{value:"成功",label:"成功"},{value:"失败",label:"失败"}],optionsCar:[{value:"包车接机",label:"包车接机"},{value:"包车送机",label:"包车送机"},{value:"包车全天",label:"包车全天"},{value:"包车点对点",label:"包车点对点"}]}},created:function(){},methods:{downExcel:function(){window.location.href=h.downItemExcelUrl+this.$route.params.mess.id},error:function(e){this.$message.error(e)},getData:function(){var e=this.$route.params.mess.id;return new m.a(function(t,a){f.a.ajax({type:"get",url:h.saveReservoUrl+e,crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(e){t(e)},error:function(e){a(e)}})})},saveAjax:function(){var e=this.ticket,t=this.bus_ticket,a=this.schedule,l=(this.chartered,!0),n=!1,i=void 0;try{for(var s,r=d()(e);!(l=(s=r.next()).done);l=!0){var o=s.value;if(!(o.name.length&&o.pdate&&o.pname.length&&o.ptype.length))return void this.error("请查看景点门票，需填写为红色*号的字段。");if(!/^[0-9]+$/.test(o.pmoney))return void this.error("客人门票报价必须为数字")}}catch(e){n=!0,i=e}finally{try{!l&&r.return&&r.return()}finally{if(n)throw i}}var c=!0,p=!1,v=void 0;try{for(var _,y=d()(t);!(c=(_=y.next()).done);c=!0){var b=_.value;if(!(b.from.length&&b.pname.length&&b.psection.length&&b.ptype.length&&b.towhere.length))return void this.error("请查看车票，需填写为红色*号的字段。");if(!/^[0-9]+$/.test(b.pmoney))return void this.error("客人门票报价必须为数字")}}catch(e){p=!0,v=e}finally{try{!c&&y.return&&y.return()}finally{if(p)throw v}}var g=!0,k=!1,x=void 0;try{for(var C,T=d()(a);!(g=(C=T.next()).done);g=!0){var w=C.value;if(!w.name.length||!w.scheduledproject.length)return void this.error("请查看车票，需填写为红色*号的字段。");if(!/^[0-9]+$/.test(w.pmoney))return void this.error("客人报价必须为数字")}}catch(e){k=!0,x=e}finally{try{!g&&T.return&&T.return()}finally{if(k)throw x}}var $={ticketEntities:this.ticket,busTicketEntities:this.bus_ticket,charteredEntities:this.chartered,scheduleList:this.schedule},D=this.$route.params.mess.id;return new m.a(function(e,t){f.a.ajax({type:"POST",data:u()($),url:h.updateResourceUrl+D,crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(t){e(t)},error:function(e){t(e)}})})},saveTravel:function(){var e=this;this.saveAjax().then(function(t){200===t.code?e.$message.success(t.message):e.$message.error(t.message)})},ticketInsert:function(){this.ticket.push({name:"",pnumber:"",pname:"",ptype:"",pdate:"",pmoney:"",success:"",truemoney:"",profit:"",getway:""})},bus_ticketInsert:function(){this.bus_ticket.push({from:"",towhere:"",pname:"",ptype:"",psection:"",getplace:"",getdate:"",pmoney:"",success:"",truemoney:"",profit:""})},charteredInsert:function(){var e=this;setTimeout(function(){e.$notify({title:"接机送机填写须知",message:"须填写客人姓名、接机日期、航班号、人员构成、行李数、目的地酒店、举牌接机、包车报价。",duration:0})},500),setTimeout(function(){e.$notify({title:"点对点填写须知",message:"须填写客人姓名、行程开始城市、行程日期、出发时间、人员构成、行李数、上车地点、目的地、客人包车报价。",duration:0})},1e3),setTimeout(function(){e.$notify({title:"全天填写须知",message:"须填写客人姓名、上车地点、行程日期、出发时间、人员构成、行李数、选用车型、途中停留城市、结束时间、客人包车报价",duration:0})},1500),this.chartered.push({type:"",pname:"",planenumber:"",ptype:"",date:"",pdate:"",bagnumber:"",tohotel:"",card:"",pmoney:"",truemoney:"",profit:"",carplace:"",caretype:"",stopplace:"",endplace:"",enddate:""})},scheduleInsert:function(){this.schedule.push({name:"",scheduledproject:"",scheduledate:"",pmoney:"",success:"",truemoney:"",profit:""})},scheduleDel:function(e){this.schedule.splice(e,1)},ticketDel:function(e){this.ticket.splice(e,1)},bus_ticketDel:function(e){this.bus_ticket.splice(e,1)},charteredDel:function(e){this.chartered.splice(e,1)},getUTCTime:function(e){return(e=new Date(e)).toUTCString()}}},"created",function(){var e=this;this.getData().then(function(t){var a=t.message,l=!1;for(var n in a)a[n].length&&(l=!0);if(l){e.isExist=!0;var i=t.message,s=!0,r=!1,o=void 0;try{for(var c,p=d()(i.busTicketEntities);!(s=(c=p.next()).done);s=!0){var u=c.value;u.getdate=e.getUTCTime(u.getdate)}}catch(e){r=!0,o=e}finally{try{!s&&p.return&&p.return()}finally{if(r)throw o}}var v=!0,m=!1,_=void 0;try{for(var f,h=d()(i.charteredEntities);!(v=(f=h.next()).done);v=!0){var y=f.value;y.date=e.getUTCTime(y.date),y.enddate=e.getUTCTime(y.enddate),y.pdate=e.getUTCTime(y.pdate)}}catch(e){m=!0,_=e}finally{try{!v&&h.return&&h.return()}finally{if(m)throw _}}var b=!0,g=!1,k=void 0;try{for(var x,C=d()(i.scheduleList);!(b=(x=C.next()).done);b=!0){var T=x.value;T.scheduledate=e.getUTCTime(T.scheduledate)}}catch(e){g=!0,k=e}finally{try{!b&&C.return&&C.return()}finally{if(g)throw k}}var w=!0,$=!1,D=void 0;try{for(var I,S=d()(i.ticketEntities);!(w=(I=S.next()).done);w=!0){var U=I.value;U.pdate=e.getUTCTime(U.pdate)}}catch(e){$=!0,D=e}finally{try{!w&&S.return&&S.return()}finally{if($)throw D}}e.ticket=i.ticketEntities,e.bus_ticket=i.busTicketEntities,e.schedule=i.scheduleList,e.chartered=i.charteredEntities}})}),N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"travel_itinerary"},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("行程单（红色*号的字段为定制师填写） "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isExist,expression:"isExist"}],staticStyle:{float:"right"},attrs:{type:"success"},on:{click:e.downExcel}},[e._v("下载")])],1)]),e._v(" "),a("el-card",[a("div",{staticClass:"card_title"},[a("h3",[e._v("景点门票")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.ticket.length,expression:"!ticket.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.ticketInsert}})]),e._v(" "),e._l(e.ticket,function(t,l){return a("div",{staticClass:"ticket_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.ticketDel(l)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.ticketInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("景点名称"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入景点名称"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出行人数"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input-number",{attrs:{min:1,max:100,label:"描述文字"},model:{value:t.pnumber,callback:function(a){e.$set(t,"pnumber",a)},expression:"item.pnumber"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出行人姓名"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入出行人姓名"},model:{value:t.pname,callback:function(a){e.$set(t,"pname",a)},expression:"item.pname"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("人员构成"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"( )成人 ( )儿童"},model:{value:t.ptype,callback:function(a){e.$set(t,"ptype",a)},expression:"item.ptype"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("门票使用日期"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.pdate,callback:function(a){e.$set(t,"pdate",a)},expression:"item.pdate"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人门票报价"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入客人门票报价"},model:{value:t.pmoney,callback:function(a){e.$set(t,"pmoney",a)},expression:"item.pmoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("是否预订成功")]),e._v(" "),a("div",[a("el-select",{staticClass:"planeInput",attrs:{placeholder:"请选择"},model:{value:t.success,callback:function(a){e.$set(t,"success",a)},expression:"item.success"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("实际门票价格")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入实际门票价格"},model:{value:t.truemoney,callback:function(a){e.$set(t,"truemoney",a)},expression:"item.truemoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("利润")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入利润"},model:{value:t.profit,callback:function(a){e.$set(t,"profit",a)},expression:"item.profit"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("取票方式")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入取票方式"},model:{value:t.getway,callback:function(a){e.$set(t,"getway",a)},expression:"item.getway"}})],1)])})],2),e._v(" "),a("el-card",[a("div",{staticClass:"card_title"},[a("h3",[e._v("车票")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.bus_ticket.length,expression:"!bus_ticket.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.bus_ticketInsert}})]),e._v(" "),e._l(e.bus_ticket,function(t,l){return a("div",{staticClass:"ticket_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.bus_ticketDel(l)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.bus_ticketInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出发地"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入出发地"},model:{value:t.from,callback:function(a){e.$set(t,"from",a)},expression:"item.from"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("目的地"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入目的地"},model:{value:t.towhere,callback:function(a){e.$set(t,"towhere",a)},expression:"item.towhere"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出行人姓名"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入出行人姓名"},model:{value:t.pname,callback:function(a){e.$set(t,"pname",a)},expression:"item.pname"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("人员构成"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"( )成人 ( )儿童"},model:{value:t.ptype,callback:function(a){e.$set(t,"ptype",a)},expression:"item.ptype"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人用车日期（区间）"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入用车日期的区间"},model:{value:t.psection,callback:function(a){e.$set(t,"psection",a)},expression:"item.psection"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人取票地点"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入取票地点"},model:{value:t.getplace,callback:function(a){e.$set(t,"getplace",a)},expression:"item.getplace"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人取票时间"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.getdate,callback:function(a){e.$set(t,"getdate",a)},expression:"item.getdate"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人门票报价"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入客人门票报价"},model:{value:t.pmoney,callback:function(a){e.$set(t,"pmoney",a)},expression:"item.pmoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("是否预订成功")]),e._v(" "),a("div",[a("el-select",{staticClass:"planeInput",attrs:{placeholder:"请选择"},model:{value:t.success,callback:function(a){e.$set(t,"success",a)},expression:"item.success"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("实际门票价格")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入实际门票价格"},model:{value:t.truemoney,callback:function(a){e.$set(t,"truemoney",a)},expression:"item.truemoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("利润")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入利润"},model:{value:t.profit,callback:function(a){e.$set(t,"profit",a)},expression:"item.profit"}})],1)])})],2),e._v(" "),a("el-card",[a("div",{staticClass:"card_title"},[a("h3",[e._v("包车")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.chartered.length,expression:"!chartered.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.charteredInsert}})]),e._v(" "),e._l(e.chartered,function(t,l){return a("div",{staticClass:"ticket_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.charteredDel(l)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.charteredInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("类型"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-select",{staticClass:"planeInput",attrs:{placeholder:"请选择"},model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"item.type"}},e._l(e.optionsCar,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出行人姓名")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入出行人姓名"},model:{value:t.pname,callback:function(a){e.$set(t,"pname",a)},expression:"item.pname"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("航班号")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入航班号"},model:{value:t.planenumber,callback:function(a){e.$set(t,"planenumber",a)},expression:"item.planenumber"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("人员构成")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"( )成人 ( )儿童"},model:{value:t.ptype,callback:function(a){e.$set(t,"ptype",a)},expression:"item.ptype"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("行程日期/接机日期")]),e._v(" "),a("div",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"item.date"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出发时间/送机时间")]),e._v(" "),a("div",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.pdate,callback:function(a){e.$set(t,"pdate",a)},expression:"item.pdate"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("行李数")]),e._v(" "),a("div",[a("el-input-number",{attrs:{min:1,max:100,label:"描述文字"},model:{value:t.bagnumber,callback:function(a){e.$set(t,"bagnumber",a)},expression:"item.bagnumber"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("目的地酒店")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请填写目的地酒店"},model:{value:t.tohotel,callback:function(a){e.$set(t,"tohotel",a)},expression:"item.tohotel"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("上车地点")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入上车地点"},model:{value:t.carplace,callback:function(a){e.$set(t,"carplace",a)},expression:"item.carplace"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("车型")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入车型"},model:{value:t.caretype,callback:function(a){e.$set(t,"caretype",a)},expression:"item.caretype"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("途中停留城市（市内包车可不填）")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入途中停留城市"},model:{value:t.stopplace,callback:function(a){e.$set(t,"stopplace",a)},expression:"item.stopplace"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("行程结束城市/目的地")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入行程结束城市/目的地"},model:{value:t.endplace,callback:function(a){e.$set(t,"endplace",a)},expression:"item.endplace"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("结束时间")]),e._v(" "),a("div",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.enddate,callback:function(a){e.$set(t,"enddate",a)},expression:"item.enddate"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("举牌接机")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请填写是否举牌接机"},model:{value:t.card,callback:function(a){e.$set(t,"card",a)},expression:"item.card"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人报价")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入取票地点"},model:{value:t.pmoney,callback:function(a){e.$set(t,"pmoney",a)},expression:"item.pmoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("实际门票价格")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入实际门票价格"},model:{value:t.truemoney,callback:function(a){e.$set(t,"truemoney",a)},expression:"item.truemoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("利润")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入利润"},model:{value:t.profit,callback:function(a){e.$set(t,"profit",a)},expression:"item.profit"}})],1)])})],2),e._v(" "),a("el-card",[a("div",{staticClass:"card_title"},[a("h3",[e._v("其他")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.schedule.length,expression:"!schedule.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.scheduleInsert}})]),e._v(" "),e._l(e.schedule,function(t,l){return a("div",{staticClass:"ticket_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.scheduleDel(l)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.scheduleInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出行人姓名"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入出行人姓名"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("预定项目"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入预定项目"},model:{value:t.scheduledproject,callback:function(a){e.$set(t,"scheduledproject",a)},expression:"item.scheduledproject"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("预定时间"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.scheduledate,callback:function(a){e.$set(t,"scheduledate",a)},expression:"item.scheduledate"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人报价"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入客人报价"},model:{value:t.pmoney,callback:function(a){e.$set(t,"pmoney",a)},expression:"item.pmoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("是否预订成功")]),e._v(" "),a("div",[a("el-select",{staticClass:"planeInput",attrs:{placeholder:"请选择"},model:{value:t.success,callback:function(a){e.$set(t,"success",a)},expression:"item.success"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("实际价格")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入实际门票价格"},model:{value:t.truemoney,callback:function(a){e.$set(t,"truemoney",a)},expression:"item.truemoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("利润")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入利润"},model:{value:t.profit,callback:function(a){e.$set(t,"profit",a)},expression:"item.profit"}})],1)])})],2),e._v(" "),a("el-button",{staticStyle:{margin:"10px",float:"right"},attrs:{type:"success"},on:{click:e.saveTravel}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var B=a("Z0/y")(A,N,!1,function(e){a("a2eo")},"data-v-499f486e",null).exports;l.default.use(s.a);var L=new s.a({routes:[{path:"/",name:"index",component:o},{path:"/pay",name:"pay",component:k},{path:"/trip",name:"trip",component:$},{path:"/order_detail",name:"order_detail",component:S},{path:"/order_plane",name:"plane_comp",component:j},{path:"/travel_itinerary",name:"travel_itinerary",component:B}]}),P=a("5VXh"),F=a.n(P);a("K6VE");l.default.config.productionTip=!1,l.default.use(F.a),new l.default({el:"#app",router:L,components:{App:i},template:"<App/>"})},O1kq:function(e,t){},PBgb:function(e,t){},a2eo:function(e,t){},cOag:function(e,t){},fnnO:function(e,t){},vpRr:function(e,t){var a="http://112.124.107.209:8080/autoSync/";e.exports={pay_getDataUrl:a+"/orderApply/getOrderItems?itemNumber=",url:a+"/orderApplay",loginUrl:a+"login",signUrl:a+"save",saveUrl:a+"trip/save",orderUrl:a+"getTripById?id=",detailUrl:a+"getTrip?id=",uploadUrl:a+"upload",deleteDetailUrl:a+"dele/desc?id=",deleteDayUrl:a+"dele/item?id=",deleteTripUrl:a+"dele/trip?id=",editTripUrl:a+"trip/update",editMsgUrl:a+"trip/update/on",downExcelUrl:a+"trip/excel/",downItemExcelUrl:a+"reverse/excel?tripId=",saveReservoUrl:a+"reverse/getByTripId?tripId=",updateResourceUrl:a+"reservo/update?tripId="}},zlBG:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.b0189032da6978d2de9c.js.map