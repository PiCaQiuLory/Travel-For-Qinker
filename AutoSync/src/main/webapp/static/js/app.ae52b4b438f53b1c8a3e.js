webpackJsonp([1],{"5MkO":function(e,t){},APSF:function(e,t){},BNNr:function(e,t){},FwP4:function(e,t){},GR0I:function(e,t){},KyuG:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("VCXJ"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=a("Z0/y")({name:"App"},n,!1,function(e){a("o1Jt")},null,null).exports,i=a("zO6J"),r=a("3cXf"),o=a.n(r),c=a("rVsN"),d=a.n(c),p=a("vpRr"),u=a.n(p),m=a("aozt"),v=a.n(m),_=a("L7Pj"),f=a.n(_),h={name:"login_box",data:function(){return{user:{username:"",password:""},loginUrl:u.a.loginUrl}},methods:{$loginInThen:function(){var e=this;this.$loginIn().then(function(t){console.log(t),200===t.code?e.$router.push({name:"order",params:{id:t.message}}):e.$message.error(t.message)})},$loginIn:function(){var e=this.user.username,t=this.user.password,a=this.loginUrl,s={user_name:e,password:t};return new d.a(function(e,t){f.a.ajax({type:"POST",url:a,data:o()(s),crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(t){e(t)},error:function(e){t(e)}})})},loginIn:function(){var e=this,t=this.user.username,a=this.user.password;console.log(this.password),v.a.post(this.loginUrl,{user_name:t,password:a}).then(function(t){console.log(t),200===t.data.code?e.$router.push({name:"order",params:{id:t.data.message}}):e.$message.error(t.data.message)})},goSignIn:function(){this.$emit("goSignIn",!0)}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_box"},[a("el-form",{ref:"form",attrs:{model:e.user,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"账号","label-width":"50px"}},[a("el-input",{model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码","label-width":"50px"}},[a("el-input",{attrs:{type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-80px"}},[a("el-button",{attrs:{type:"default"},on:{click:e.goSignIn}},[e._v("注册")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.$loginInThen}},[e._v("登录")])],1)],1)],1)},staticRenderFns:[]};var g={name:"sign_box",data:function(){return{user:{username:"",name:"",password1:"",password2:"",department:""},signUrl:u.a.signUrl}},methods:{goLoginIn:function(){var e=this,t=this.user,a=t.password1,s=t.password2,n=t.name,l=t.username,i=t.department,r=this.signUrl;if(n.length)if(l.length){if(a!=s)return this.$message.error("两次输入密码不相同，请重新填写。"),a="",void(s="");if(a.length<3||a.length>15)return this.$message.error("请输入3-15位的密码并包含英文数字，请重新填写。"),a="",void(s="");i.length||this.$message.error("请选择您负责的区域。"),"新马部"==i&&(i=1),"泰国部"==i&&(i=2),"日本部"==i&&(i=3),v.a.post(r,{user_name:l,nickname:n,department_id:i,password:a}).then(function(a){if(console.log(a),1===a.data.code)for(var s in e.$message.error(a.data.message),e.user)t[s]="";else for(var n in e.$message(a.data.message),e.$emit("goLoginIn",!0),e.user)t[n]=""})}else this.$message.error("用户名不能为空");else this.$message.error("名字不能为空。")},alert:function(e,t){this.$notify({title:e,message:t})}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sign_box"},[a("el-form",{ref:"form",attrs:{model:e.user}},[a("p",{staticClass:"form_title"},[e._v("注册页面")]),e._v(" "),a("el-form-item",{attrs:{label:"姓名","label-width":"100px"}},[a("el-input",{on:{focus:function(t){e.alert("姓名","请输入真实姓名。")}},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名","label-width":"100px"}},[a("el-input",{on:{focus:function(t){e.alert("账号","请输入您的账号。")}},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码","label-width":"100px"}},[a("el-input",{attrs:{type:"password"},on:{focus:function(t){e.alert("密码","请输入您的密码，3-15位包含英文数字即可。")}},model:{value:e.user.password1,callback:function(t){e.$set(e.user,"password1",t)},expression:"user.password1"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"二次输入密码","label-width":"100px"}},[a("el-input",{attrs:{type:"password"},on:{focus:function(t){e.alert("二次输入","请再次输入您的密码。")}},model:{value:e.user.password2,callback:function(t){e.$set(e.user,"password2",t)},expression:"user.password2"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门","label-width":"100px"}},[a("el-radio-group",{model:{value:e.user.department,callback:function(t){e.$set(e.user,"department",t)},expression:"user.department"}},[a("el-radio-button",{attrs:{label:"泰国部"}}),e._v(" "),a("el-radio-button",{attrs:{label:"日本部"}}),e._v(" "),a("el-radio-button",{attrs:{label:"新马部"}})],1)],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.goLoginIn}},[e._v("注册")])],1)],1)],1)},staticRenderFns:[]};var x={name:"login",data:function(){return{isOpenSign:!1,isOpenLogin:!0}},methods:{goSignIn:function(e){this.isOpenSign=e,this.isOpenLogin=!e},goLoginIn:function(e){this.isOpenSign=!e,this.isOpenLogin=e}},components:{login_box:a("Z0/y")(h,b,!1,function(e){a("APSF")},"data-v-00d2ee85",null).exports,sign_box:a("Z0/y")(g,y,!1,function(e){a("WRsb")},"data-v-353ab7a0",null).exports}},k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login"},[t("login_box",{directives:[{name:"show",rawName:"v-show",value:this.isOpenLogin,expression:"isOpenLogin"}],on:{goSignIn:this.goSignIn}}),this._v(" "),t("sign_box",{directives:[{name:"show",rawName:"v-show",value:this.isOpenSign,expression:"isOpenSign"}],on:{goLoginIn:this.goLoginIn}})],1)},staticRenderFns:[]};var w=a("Z0/y")(x,k,!1,function(e){a("FwP4")},"data-v-43b03bb2",null).exports,C=a("HzJ8"),$=a.n(C),T={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"navbar"},[t("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":this.index,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[t("el-menu-item",{attrs:{index:"1"}},[t("router-link",{attrs:{to:"/order"}},[this._v("我的订单")])],1),this._v(" "),t("el-menu-item",{attrs:{index:"2"}},[t("router-link",{attrs:{to:"/create"}},[this._v("制作行程单")])],1)],1)],1)},staticRenderFns:[]};var U=a("Z0/y")({name:"order",data:function(){return{index:"1"}},created:function(){},methods:{},components:{}},T,!1,function(e){a("yuXM")},"data-v-526c3d8f",null).exports,I={name:"order",data:function(){return{detailUrl:u.a.detailUrl,deleteTripUrl:u.a.deleteTripUrl,orderUrl:u.a.orderUrl,editMsgUrl:u.a.editMsgUrl,downExcelUrl:u.a.downExcelUrl,deleteData:[],form:{title:""},messagebox:!1,formLabelWidth:"120px"}},created:function(){},methods:{downExcel:function(e,t){window.location.href=this.downExcelUrl+t.id},getPlane:function(e,t){var a=this,s=t.id;this.getDetail(s).then(function(e){a.$router.push({name:"plane_comp",params:{data:e}})})},editMsg:function(){var e=this,t=this;this.$confirm("您要保存此信息吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.editAjax().then(function(e){e.message}),t.messagebox=!1,e.$message({type:"success",message:"保存成功!"})}).catch(function(){e.$message({type:"info",message:"已取消保存"})})},editAjax:function(){var e=this.editMsgUrl,t=o()(this.form);return console.log(t),new d.a(function(a,s){f.a.ajax({type:"POST",url:e,data:t,crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(e){a(e)},error:function(e){s(e)}})})},getMessage:function(e,t){this.form=t,this.messagebox=!0,console.log(t)},deteleTripAjax:function(e){var t=this.deleteTripUrl;return new d.a(function(a,s){f.a.ajax({type:"GET",url:t+e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"JSON",success:function(e){a(e)},error:function(e){s(e)}})})},fmtDate:function(e){var t=new Date(e),a=1900+t.getYear(),s="0"+(t.getMonth()+1),n="0"+t.getDate();return a+"-"+s.substring(s.length-2,s.length)+"-"+n.substring(n.length-2,n.length)},deleteTrip:function(e,t){var a=this,s=t.id;this.$confirm("您将删除此行程单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deteleTripAjax(s).then(function(e){console.log(e),location.reload()}),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},getOrdered:function(e,t){var a=this;this.getDetail(t.id).then(function(e){a.$router.push({name:"travel_itinerary",params:{data:e,mess:t}})})},handleEdit:function(e,t){var a=this;this.getDetail(t.id).then(function(e){console.log(e),a.$router.push({name:"order_detail",params:{data:e,mess:t}})})},getDetail:function(e){var t=this.detailUrl;return new d.a(function(a,s){f.a.ajax({type:"GET",url:t+e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"JSON",success:function(e){a(e)},error:function(e){s(e)}})})}},props:{data:{type:Array,default:function(){return[]}}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"orderTable"},[a("el-dialog",{attrs:{title:"收货地址",visible:e.messagebox},on:{"update:visible":function(t){e.messagebox=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"行程单标题","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.itemNumber,callback:function(t){e.$set(e.form,"itemNumber",t)},expression:"form.itemNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行人姓名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.customer_name,callback:function(t){e.$set(e.form,"customer_name",t)},expression:"form.customer_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行人昵称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",laceholder:"请填写准确微信昵称(非微信账号)。"},model:{value:e.form.customer_wechat,callback:function(t){e.$set(e.form,"customer_wechat",t)},expression:"form.customer_wechat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行人手机号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.phoneNumber,callback:function(t){e.$set(e.form,"phoneNumber",t)},expression:"form.phoneNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出发地","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.start_point,callback:function(t){e.$set(e.form,"start_point",t)},expression:"form.start_point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"目的地","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.end_point,callback:function(t){e.$set(e.form,"end_point",t)},expression:"form.end_point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行日期","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.travel_date,callback:function(t){e.$set(e.form,"travel_date",t)},expression:"form.travel_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"归团日期","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.end_date,callback:function(t){e.$set(e.form,"end_date",t)},expression:"form.end_date"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.messagebox=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.editMsg}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{label:"订单号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.itemNumber)+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"行程单标题",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.title)+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.fmtDate(t.row.create_date))+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"顾客姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.customer_name)+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"顾客昵称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.customer_wechat)+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"出团日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.fmtDate(t.row.travel_date))+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"归团日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.fmtDate(t.row.end_date))+"\n    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"500"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("\n          行程\n      ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.getOrdered(t.$index,t.row)}}},[e._v("\n          行程预定单\n      ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.getPlane(t.$index,t.row)}}},[e._v("\n          机票\n      ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.getMessage(t.$index,t.row)}}},[e._v("\n          编辑信息\n      ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.downExcel(t.$index,t.row)}}},[e._v("\n          下载\n      ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteTrip(t.$index,t.row)}}},[e._v("\n          删除\n      ")])]}}])})],1)],1)},staticRenderFns:[]};var S={name:"order",data:function(){return{data:[],orderUrl:u.a.orderUrl,deleteTripUrl:u.a.deleteTripUrl,pageSize:"",total:"",currentPage1:5}},created:function(){var e=this,t=this;this.getUserId(),this.getOrder("0").then(function(a){console.log(a);var s=!0,n=!1,l=void 0;try{for(var i,r=$()(a.message.list);!(s=(i=r.next()).done);s=!0){var o=i.value;o.travel_date=e.fmtDate(o.travel_date),o.end_date=e.fmtDate(o.end_date)}}catch(e){n=!0,l=e}finally{try{!s&&r.return&&r.return()}finally{if(n)throw l}}t.data=a.message.list,t.total=a.message.total,t.pageSize=a.message.pageSize})},methods:{fmtDate:function(e){var t=new Date(e),a=1900+t.getYear(),s="0"+(t.getMonth()+1),n="0"+t.getDate();return a+"-"+s.substring(s.length-2,s.length)+"-"+n.substring(n.length-2,n.length)},getReloadPage:function(e){this.data=e.message.list,this.total=e.message.total,this.pageSize=e.message.pageSize},handleCurrentChange:function(e){var t=this;this.getOrder(e).then(function(e){console.log(e),t.data=e.message.list})},getUserId:function(){this.$route.params.id},getOrder:function(e){var t=this.orderUrl;return new d.a(function(a,s){f.a.ajax({type:"GET",url:t+e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"JSON",success:function(e){a(e)},error:function(e){s(e)}})})}},components:{navbar:U,orderTable:a("Z0/y")(I,D,!1,function(e){a("5MkO")},"data-v-dc0cf75c",null).exports}},N={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"order"},[t("navbar"),this._v(" "),t("orderTable",{attrs:{data:this.data},on:{reloadPage:this.getReloadPage}}),this._v(" "),t("div",{staticClass:"footer"},[t("el-pagination",{attrs:{"page-size":this.pageSize,layout:"total, prev, pager, next",total:this.total},on:{"current-change":this.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var L=a("Z0/y")(S,N,!1,function(e){a("Uq1t")},"data-v-94ee443e",null).exports,E={name:"plane",data:function(){return{plane:[],planeTo:[],planeLand:[],planeBack:[]}},created:function(){},methods:{planeToInsert:function(){this.planeTo.push({to_date:"",to_number:"",to_desc:"",to_start_end_date:"",land_date:"",land_number:"",land_desc:"",land_start_end_date:"",back_date:"",back_number:"",back_desc:"",back_start_end_date:""})},planeToDel:function(e){this.planeTo.splice(e,1)},planeBackInsert:function(){this.planeBack.push({to_date:"",to_number:"",to_desc:"",to_start_end_date:"",land_date:"",land_number:"",land_desc:"",land_start_end_date:"",back_date:"",back_number:"",back_desc:"",back_start_end_date:""})},planeBackDel:function(e){this.planeBack.splice(e,1)},planeLandInsert:function(){this.planeBack.push({to_date:"",to_number:"",to_desc:"",to_start_end_date:"",land_date:"",land_number:"",land_desc:"",land_start_end_date:"",back_date:"",back_number:"",back_desc:"",back_start_end_date:""})},planeLandDel:function(e){this.planeLand.splice(e,1)},getPlane:function(){var e=this.plane;console.log(this.planeTo),console.log(this.planeBack),this.planeTo.length&&(e=e.concat(this.planeTo)),this.planeBack.length&&(e=e.concat(this.planeBack)),this.planeLand.length&&(e=e.concat(this.planeLand));var t=!0,a=!1,s=void 0;try{for(var n,l=$()(e);!(t=(n=l.next()).done);t=!0){var i=n.value;""==i.to_start_end_date&&(i.to_start_end_date=[]),""==i.land_start_end_date&&(i.land_start_end_date=[]),""==i.back_start_end_date&&(i.back_start_end_date=[])}}catch(e){a=!0,s=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw s}}console.log(e),this.$emit("getPlane",e)}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plane"},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("机票")])]),e._v(" "),a("el-card",[a("div",{staticClass:"card_title"},[a("h3",[e._v("去程")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.planeTo.length,expression:"!planeTo.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.planeToInsert}})]),e._v(" "),e._l(e.planeTo,function(t,s){return a("div",{staticClass:"plane_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.planeToDel(s)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.planeToInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("去程日期")]),e._v(" "),a("el-date-picker",{staticClass:"planeInput",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.to_date,callback:function(a){e.$set(t,"to_date",a)},expression:"item.to_date"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("去程航班号")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入航班号"},model:{value:t.to_number,callback:function(a){e.$set(t,"to_number",a)},expression:"item.to_number"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("去程目的地-出发地")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 上海-南极"},model:{value:t.to_desc,callback:function(a){e.$set(t,"to_desc",a)},expression:"item.to_desc"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("去程出发时间-到达时间")]),e._v(" "),a("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.to_start_end_date,callback:function(a){e.$set(t,"to_start_end_date",a)},expression:"item.to_start_end_date"}})],1)})],2),e._v(" "),a("el-card",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"card_title"},[a("h3",[e._v("回程")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.planeBack.length,expression:"!planeBack.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.planeBackInsert}})]),e._v(" "),e._l(e.planeBack,function(t,s){return a("div",{staticClass:"plane_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.planeBackDel(s)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.planeToInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("回程日期")]),e._v(" "),a("el-date-picker",{staticClass:"planeInput",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.back_date,callback:function(a){e.$set(t,"back_date",a)},expression:"item.back_date"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("回程航班号")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入航班号"},model:{value:t.back_number,callback:function(a){e.$set(t,"back_number",a)},expression:"item.back_number"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("回程目的地-出发地")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 上海-南极"},model:{value:t.back_desc,callback:function(a){e.$set(t,"back_desc",a)},expression:"item.back_desc"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("回程出发时间-到达时间")]),e._v(" "),a("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.back_start_end_date,callback:function(a){e.$set(t,"back_start_end_date",a)},expression:"item.back_start_end_date"}})],1)})],2),e._v(" "),a("el-card",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"card_title"},[a("h3",[e._v("联运段")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.planeLand.length,expression:"!planeLand.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.planeLandInsert}})]),e._v(" "),e._l(e.planeLand,function(t,s){return a("div",{staticClass:"plane_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.planeLandDel(s)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.planeLandInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("联运段日期")]),e._v(" "),a("el-date-picker",{staticClass:"planeInput",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.land_date,callback:function(a){e.$set(t,"land_date",a)},expression:"item.land_date"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("联运段航班号")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入航班号"},model:{value:t.land_number,callback:function(a){e.$set(t,"land_number",a)},expression:"item.land_number"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("联运段目的地-出发地")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 上海-南极"},model:{value:t.land_desc,callback:function(a){e.$set(t,"land_desc",a)},expression:"item.land_desc"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("联运段出发时间-到达时间")]),e._v(" "),a("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.land_start_end_date,callback:function(a){e.$set(t,"land_start_end_date",a)},expression:"item.land_start_end_date"}})],1)})],2),e._v(" "),a("el-button",{staticStyle:{float:"right",margin:"10px"},attrs:{type:"success"},on:{click:e.getPlane}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var B=a("Z0/y")(E,P,!1,function(e){a("GR0I")},"data-v-589eb79d",null).exports,O={name:"settingMessage",data:function(){return{formLabelWidth:"100px",dialogFormVisible:!0,showClose:"false",activeName:"second",fullscreenLoading:!1,mess:{title:"",itemNumber:"",customer_name:"",customer_wechat:"",travel_date:"",end_date:"",start_point:"",end_point:"",phoneNumber:""},messUpload:{title:"",itemNumber:"",customer_name:"",customer_wechat:"",travel_date:"",end_date:"",start_point:"",end_point:"",phoneNumber:""},uploadUrl:u.a.uploadUrl}},created:function(){},methods:{backOrder:function(){this.$router.push({name:"order",query:{id:1}})},getUserId:function(){this.$route.params.id},saveMessageUpload:function(){var e=this,t=this.messUpload;for(var a in t)if(!t[a].length)return void e.$message.error("信息不能为空！");document.getElementById("postSubmit").click(),this.fullscreenLoading=!0,setTimeout(function(){e.fullscreenLoading=!1,e.$message({type:"success",message:"已成功上传！"}),e.$router.push({name:"order",query:{id:1}})},3e3)},saveMessage:function(){var e=this.mess;for(var t in e)if(!e[t].length)return void this.$message.error("信息不能为空！");this.dialogFormVisible=!1,this.$emit("getMess",e)}},components:{navbar:U}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"settingMessage"},[a("el-dialog",{attrs:{title:"行程单信息",visible:e.dialogFormVisible,center:"","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"填写行程单",name:"first"}},[a("el-form",{attrs:{model:e.mess}},[a("el-form-item",{attrs:{label:"行程单标题","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.mess.title,callback:function(t){e.$set(e.mess,"title",t)},expression:"mess.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.mess.itemNumber,callback:function(t){e.$set(e.mess,"itemNumber",t)},expression:"mess.itemNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行人姓名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.mess.customer_name,callback:function(t){e.$set(e.mess,"customer_name",t)},expression:"mess.customer_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行人昵称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",laceholder:"请填写准确微信昵称(非微信账号)。"},model:{value:e.mess.customer_wechat,callback:function(t){e.$set(e.mess,"customer_wechat",t)},expression:"mess.customer_wechat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行人手机号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.mess.phoneNumber,callback:function(t){e.$set(e.mess,"phoneNumber",t)},expression:"mess.phoneNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出发地","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.mess.start_point,callback:function(t){e.$set(e.mess,"start_point",t)},expression:"mess.start_point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"目的地","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.mess.end_point,callback:function(t){e.$set(e.mess,"end_point",t)},expression:"mess.end_point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行日期","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.mess.travel_date,callback:function(t){e.$set(e.mess,"travel_date",t)},expression:"mess.travel_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"归团日期","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.mess.end_date,callback:function(t){e.$set(e.mess,"end_date",t)},expression:"mess.end_date"}})],1)],1),e._v(" "),a("div",{staticClass:"button_box"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveMessage}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.backOrder}},[e._v("返回")])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"上传行程单",name:"second"}},[a("iframe",{staticStyle:{display:"none"},attrs:{id:"iframe_display",name:"iframe_display"}}),e._v(" "),a("form",{attrs:{action:e.uploadUrl,method:"post",enctype:"multipart/form-data",target:"iframe_display"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.messUpload.title,expression:"messUpload.title"},{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",name:"title"},domProps:{value:e.messUpload.title},on:{input:function(t){t.target.composing||e.$set(e.messUpload,"title",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.messUpload.itemNumber,expression:"messUpload.itemNumber"},{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",name:"itemNumber"},domProps:{value:e.messUpload.itemNumber},on:{input:function(t){t.target.composing||e.$set(e.messUpload,"itemNumber",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.messUpload.customer_name,expression:"messUpload.customer_name"},{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",name:"customer_name"},domProps:{value:e.messUpload.customer_name},on:{input:function(t){t.target.composing||e.$set(e.messUpload,"customer_name",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.messUpload.customer_wechat,expression:"messUpload.customer_wechat"},{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",name:"customer_wechat"},domProps:{value:e.messUpload.customer_wechat},on:{input:function(t){t.target.composing||e.$set(e.messUpload,"customer_wechat",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.messUpload.travel_date,expression:"messUpload.travel_date"},{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",name:"travel_date"},domProps:{value:e.messUpload.travel_date},on:{input:function(t){t.target.composing||e.$set(e.messUpload,"travel_date",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.messUpload.end_date,expression:"messUpload.end_date"},{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",name:"end_date"},domProps:{value:e.messUpload.end_date},on:{input:function(t){t.target.composing||e.$set(e.messUpload,"end_date",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.messUpload.start_point,expression:"messUpload.start_point"},{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",name:"start_point"},domProps:{value:e.messUpload.start_point},on:{input:function(t){t.target.composing||e.$set(e.messUpload,"start_point",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.messUpload.end_point,expression:"messUpload.end_point"},{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",name:"end_point"},domProps:{value:e.messUpload.end_point},on:{input:function(t){t.target.composing||e.$set(e.messUpload,"end_point",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.messUpload.phoneNumber,expression:"messUpload.phoneNumber"},{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",name:"phoneNumber"},domProps:{value:e.messUpload.phoneNumber},on:{input:function(t){t.target.composing||e.$set(e.messUpload,"phoneNumber",t.target.value)}}}),e._v(" "),a("el-form",{attrs:{model:e.messUpload}},[a("el-form-item",{attrs:{label:"行程单标题","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.messUpload.title,callback:function(t){e.$set(e.messUpload,"title",t)},expression:"messUpload.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.messUpload.itemNumber,callback:function(t){e.$set(e.messUpload,"itemNumber",t)},expression:"messUpload.itemNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行人姓名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.messUpload.customer_name,callback:function(t){e.$set(e.messUpload,"customer_name",t)},expression:"messUpload.customer_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行人昵称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请填写准确微信昵称(非微信账号)。"},model:{value:e.messUpload.customer_wechat,callback:function(t){e.$set(e.messUpload,"customer_wechat",t)},expression:"messUpload.customer_wechat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行人手机号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.messUpload.phoneNumber,callback:function(t){e.$set(e.messUpload,"phoneNumber",t)},expression:"messUpload.phoneNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出发地","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.messUpload.start_point,callback:function(t){e.$set(e.messUpload,"start_point",t)},expression:"messUpload.start_point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"目的地","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.messUpload.end_point,callback:function(t){e.$set(e.messUpload,"end_point",t)},expression:"messUpload.end_point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出行日期","label-width":e.formLabelWidth}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.messUpload.travel_date,expression:"messUpload.travel_date"}],attrs:{type:"date",name:"travel_date"},domProps:{value:e.messUpload.travel_date},on:{input:function(t){t.target.composing||e.$set(e.messUpload,"travel_date",t.target.value)}}})]),e._v(" "),a("el-form-item",{attrs:{label:"归团日期","label-width":e.formLabelWidth}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.messUpload.end_date,expression:"messUpload.end_date"}],attrs:{type:"date",name:"end_date"},domProps:{value:e.messUpload.end_date},on:{input:function(t){t.target.composing||e.$set(e.messUpload,"end_date",t.target.value)}}})])],1),e._v(" "),a("input",{attrs:{type:"file",name:"file"}}),e._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"submit",value:"upload",id:"postSubmit"}})],1),e._v(" "),a("div",{staticClass:"button_box"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:e.saveMessageUpload}},[e._v("上传")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.backOrder}},[e._v("返回")])],1)])],1)],1)],1)},staticRenderFns:[]};var M=a("Z0/y")(O,j,!1,function(e){a("quND")},"data-v-e858fbf4",null).exports,F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"createCard"},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("行程")])]),e._v(" "),e._l(e.data,function(t,s){return a("el-card",{key:s},[a("el-tag",[e._v("DAY"+e._s(t.day))]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.createDetail(s)}}},[e._v("\n                   新增描述\n        ")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入当天标题"},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"i.title"}}),e._v(" "),a("i",{staticClass:"el-icon-delete",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.deteleDay(s)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus",staticStyle:{float:"right",cursor:"pointer"},on:{click:function(a){e.insertDay(t)}}}),e._v(" "),a("el-card",e._l(t.itemDescriptions,function(n,l){return a("div",{staticStyle:{"margin-top":"20px"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:t.itemDescriptions[l],callback:function(a){e.$set(t.itemDescriptions,l,a)},expression:"i.itemDescriptions[key]"}}),e._v(" "),a("i",{staticClass:"el-icon-delete deleteIcon",on:{click:function(t){e.deleteDetail(s,l)}}})],1)}))],1)}),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-bottom":"10px"},attrs:{type:"primary"},on:{click:e.saveCard}},[e._v("保存")])],2)],1)},staticRenderFns:[]};var W={name:"create",data:function(){return{trip:{},plane:[],url:u.a.saveUrl,nextPage:0}},created:function(){},methods:{getPlaneData:function(e){this.plane=e,this.nextPage=1},test:function(){var e=this.url,t=this.trip;return t.plane=this.plane,console.log(t),new d.a(function(a,s){f.a.ajax({type:"POST",url:e,data:o()(t),crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(e){a(e)},error:function(e){s(e)}})})},getUserId:function(){this.$route.params.id},dadGetMess:function(e){this.trip=e},dadGetCard:function(e){var t=this;this.trip.tripItems=e;var a=this.trip.tripItems,s=!0,n=!1,l=void 0;try{for(var i,r=$()(a);!(s=(i=r.next()).done);s=!0)for(var o=i.value.itemDescriptions,c=0;c<o.length;c++)o[c]={description:o[c],sort_id:c}}catch(e){n=!0,l=e}finally{try{!s&&r.return&&r.return()}finally{if(n)throw l}}this.test().then(function(e){if(console.log(e),1===e.code)t.$message.error(e.message);else{var a=e.message;t.$message({message:a,type:"success"}),t.$router.push({name:"order",params:{id:1}})}})}},components:{navbar:U,createCard:a("Z0/y")({name:"createCard",data:function(){return{data:[{day:1,title:"",itemDescriptions:[""]}]}},created:function(){},methods:{saveCard:function(){var e=this.data;this.$emit("getCard",e)},createNewDay:function(){var e=this.data,t=e.length+1;e.push({day:t,title:"",itemDescriptions:[""]})},createDetail:function(e){this.data[e].itemDescriptions.push("")},deleteDetail:function(e,t){var a=this,s=this.data;this.$confirm("您要删除此描述吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s[e].itemDescriptions.splice(t,1),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},deteleDay:function(e){var t=this,a=this.data;this.$confirm("您要删除当天行程吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.splice(e,1);for(var s=0;s<a.length;s++)a[s].day=s+1;t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},insertDay:function(e){var t=this.data,a=e.day;this.data.splice(a,0,{day:a,title:"",itemDescriptions:[""]});for(var s=0;s<t.length;s++)t[s].day=s+1},switchData:function(){return this.oldData.length?this.oldData:this.data}},components:{}},F,!1,function(e){a("BNNr")},"data-v-c8e54b34",null).exports,settingMessage:M,plane:B}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("navbar"),e._v(" "),a("plane",{directives:[{name:"show",rawName:"v-show",value:0===e.nextPage,expression:"nextPage === 0"}],on:{getPlane:e.getPlaneData}}),e._v(" "),a("createCard",{directives:[{name:"show",rawName:"v-show",value:1===e.nextPage,expression:"nextPage === 1"}],on:{getCard:e.dadGetCard}}),e._v(" "),a("settingMessage",{on:{getMess:e.dadGetMess}})],1)},staticRenderFns:[]};var A=a("Z0/y")(W,R,!1,function(e){a("vmvd")},"data-v-250f399d",null).exports,z={name:"order_detail",data:function(){return{data:[],mess:[],deleteDetailUrl:u.a.deleteDetailUrl,deleteDayUrl:u.a.deleteDayUrl,deleteTripUrl:u.a.deleteTripUrl,detailUrl:u.a.detailUrl,editTripUrl:u.a.editTripUrl}},created:function(){this.getData()},methods:{getDetail:function(){var e=this.detailUrl,t=this.mess.id;return new d.a(function(a,s){f.a.ajax({type:"GET",url:e+t,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"JSON",success:function(e){a(e)},error:function(e){s(e)}})})},getData:function(){0===this.$route.params.data.message[0].length?this.data=[{day:1,title:"",itemDescriptions:[{description:"",sort_id:0}]}]:this.data=this.$route.params.data.message[0].tripItems,this.mess=this.$route.params.mess,console.log(this.data)},saveCard:function(){var e=this.data;this.$emit("getCard",e)},createNewDay:function(){var e=this.data,t=e.length+1;e.push({day:t,title:"",itemDescriptions:[{description:""}]})},createDetail:function(e){this.data[e].itemDescriptions.push({description:""})},insertDay:function(e){var t=this.data,a=e.day;this.data.splice(a,0,{day:a,title:"",itemDescriptions:[{description:""}]});for(var s=0;s<t.length;s++)t[s].day=s+1},deleteDetail:function(e,t){var a=this,s=this.data;this.$confirm("您要删除此描述吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var n=s[e].itemDescriptions[t];void 0==n.id?s[e].itemDescriptions.splice(t,1):a.deteleDetailAjax(n.id).then(function(a){200===a.code?s[e].itemDescriptions.splice(t,1):alert(a.message)}),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},deteleDetailAjax:function(e){var t=this.deleteDetailUrl;return new d.a(function(a,s){f.a.ajax({type:"GET",url:t+e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"JSON",success:function(e){a(e)},error:function(e){s(e)}})})},deteleDayAjax:function(e){var t=this.deleteDayUrl;return new d.a(function(a,s){f.a.ajax({type:"GET",url:t+e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"JSON",success:function(e){a(e)},error:function(e){s(e)}})})},editTrip:function(){var e=this,t=this,a=this.mess,s=this.data;this.$confirm("您要保存此行程吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.tripItems=s,t.editAjax(o()(a)),console.log(a),e.$message({type:"success",message:"保存成功!"})}).catch(function(){e.$message({type:"info",message:"已取消保存"})})},editAjax:function(e){var t=this.editTripUrl;return new d.a(function(a,s){f.a.ajax({type:"POST",url:t,data:e,crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(e){a(e)},error:function(e){s(e)}})})},deteleDay:function(e){var t=this,a=this.data,s=a[e].id;this.$confirm("您要删除当天行程吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deteleDayAjax(s).then(function(t){console.log(t),200===t.code?a.splice(e,1):alert(t.message)});for(var n=0;n<a.length;n++)a[n].day=n+1;t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}},components:{navbar:U}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order_detail"},[a("navbar"),e._v(" "),a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("制作行程单")])]),e._v(" "),e._l(e.data,function(t,s){return a("el-card",{key:t.id},[a("el-tag",[e._v("DAY"+e._s(t.day))]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.createDetail(s)}}},[e._v("\n                   新增描述\n        ")]),e._v(" "),a("i",{staticClass:"el-icon-delete",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.deteleDay(s)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus",staticStyle:{float:"right",cursor:"pointer"},on:{click:function(a){e.insertDay(t)}}}),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入当天标题"},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"i.title"}}),e._v(" "),a("el-card",e._l(t.itemDescriptions,function(n,l){return a("div",{staticStyle:{"margin-top":"20px"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:t.itemDescriptions[l].description,callback:function(a){e.$set(t.itemDescriptions[l],"description",a)},expression:"i.itemDescriptions[key].description"}}),e._v(" "),a("i",{staticClass:"el-icon-delete deleteIcon",on:{click:function(t){e.deleteDetail(s,l)}}})],1)}))],1)}),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-bottom":"10px"},attrs:{type:"primary"},on:{click:e.editTrip}},[e._v("保存")])],2)],1)},staticRenderFns:[]};var G=a("Z0/y")(z,J,!1,function(e){a("KyuG")},"data-v-4a21a669",null).exports,Z={name:"plane_comp",data:function(){return{plane:{},planeTo:[],planeLand:[],planeBack:[],editTripUrl:u.a.editTripUrl}},created:function(){var e=this.$route.params.data.message[0].plane;this.plane=e,this.compPlane(e)},methods:{editFoo:function(){var e=this.planeTo.concat(this.planeLand,this.planeBack),t=this.$route.params.data.message[0];t.plane=e,console.log(t);var a=!0,s=!1,n=void 0;try{for(var l,i=$()(e);!(a=(l=i.next()).done);a=!0){var r=l.value;r.land_start_end_date=null,r.to_start_end_date=null,r.back_start_end_date=null}}catch(e){s=!0,n=e}finally{try{!a&&i.return&&i.return()}finally{if(s)throw n}}this.editAjax(o()(t)).then(function(e){alert(e.message)})},editAjax:function(e){var t=this.editTripUrl;return new d.a(function(a,s){f.a.ajax({type:"POST",url:t,data:e,crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(e){a(e)},error:function(e){s(e)}})})},editPlane:function(){this.editAjax()},compPlane:function(e){var t=!0,a=!1,s=void 0;try{for(var n,l=$()(e);!(t=(n=l.next()).done);t=!0){var i=n.value;0==i.to_date_str.length&&0==i.to_desc.length&&0==i.to_number.length||this.planeTo.push(i),0==i.land_date_str.length&&0==i.land_desc.length&&0==i.land_number.length||this.planeLand.push(i),0==i.back_date_str.length&&0==i.back_desc.length&&0==i.back_number.length||this.planeBack.push(i)}}catch(e){a=!0,s=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw s}}},planeToInsert:function(){this.planeTo.push({to_date:"",to_number:"",to_desc:"",to_start_end_date:"",land_date:"",land_number:"",land_desc:"",land_start_end_date:"",back_date:"",back_number:"",back_desc:"",back_start_end_date:""})},planeToDel:function(e){this.planeTo.splice(e,1)},planeBackInsert:function(){this.planeBack.push({to_date:"",to_number:"",to_desc:"",to_start_end_date:"",land_date:"",land_number:"",land_desc:"",land_start_end_date:"",back_date:"",back_number:"",back_desc:"",back_start_end_date:""})},planeBackDel:function(e){this.planeBack.splice(e,1)},planeLandInsert:function(){this.planeLand.push({to_date:"",to_number:"",to_desc:"",to_start_end_date:"",land_date:"",land_number:"",land_desc:"",land_start_end_date:"",back_date:"",back_number:"",back_desc:"",back_start_end_date:""})},planeLandDel:function(e){this.planeLand.splice(e,1)}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plane"},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("机票")])]),e._v(" "),a("el-card",[a("div",{staticClass:"card_title"},[a("h3",[e._v("去程")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.planeTo.length,expression:"!planeTo.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.planeToInsert}})]),e._v(" "),e._l(e.planeTo,function(t,s){return a("div",{staticClass:"plane_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.planeToDel(s)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.planeToInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("去程日期")]),e._v(" "),a("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择日期时间"},model:{value:t.to_date,callback:function(a){e.$set(t,"to_date",a)},expression:"item.to_date"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("去程航班号")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 航班号"},model:{value:t.to_number,callback:function(a){e.$set(t,"to_number",a)},expression:"item.to_number"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("去程目的地-出发地")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 上海-南极"},model:{value:t.to_desc,callback:function(a){e.$set(t,"to_desc",a)},expression:"item.to_desc"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("去程出发时间-到达时间")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 出发时间-到达时间"},model:{value:t.to_start_end,callback:function(a){e.$set(t,"to_start_end",a)},expression:"item.to_start_end"}})],1)})],2),e._v(" "),a("el-card",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"card_title"},[a("h3",[e._v("回程")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.planeBack.length,expression:"!planeBack.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.planeBackInsert}})]),e._v(" "),e._l(e.planeBack,function(t,s){return a("div",{staticClass:"plane_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.planeBackDel(s)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.planeBackInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("回程日期")]),e._v(" "),a("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择日期时间"},model:{value:t.back_date,callback:function(a){e.$set(t,"back_date",a)},expression:"item.back_date"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("回程航班号")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 航班号"},model:{value:t.back_number,callback:function(a){e.$set(t,"back_number",a)},expression:"item.back_number"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("回程目的地-出发地")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 上海-南极"},model:{value:t.back_desc,callback:function(a){e.$set(t,"back_desc",a)},expression:"item.back_desc"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("回程出发时间-到达时间")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 出发时间-到达时间"},model:{value:t.back_start_end,callback:function(a){e.$set(t,"back_start_end",a)},expression:"item.back_start_end"}})],1)})],2),e._v(" "),a("el-card",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"card_title"},[a("h3",[e._v("联运段")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.planeLand.length,expression:"!planeLand.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.planeLandInsert}})]),e._v(" "),e._l(e.planeLand,function(t,s){return a("div",{staticClass:"plane_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.planeLandDel(s)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.planeLandInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("联运段日期")]),e._v(" "),a("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择日期时间"},model:{value:t.land_date,callback:function(a){e.$set(t,"land_date",a)},expression:"item.land_date"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("联运段航班号")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入航班号"},model:{value:t.land_number,callback:function(a){e.$set(t,"land_number",a)},expression:"item.land_number"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("联运段目的地-出发地")]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 上海-南极"},model:{value:t.land_desc,callback:function(a){e.$set(t,"land_desc",a)},expression:"item.land_desc"}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("联运段出发时间-到达时间")]),e._v(" "),a("div",{staticStyle:{margin:"10px"}},[e._v(e._s(t.back_start_end))]),e._v(" "),a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入 出发时间-到达时间"},model:{value:t.land_start_end,callback:function(a){e.$set(t,"land_start_end",a)},expression:"item.land_start_end"}})],1)})],2),e._v(" "),a("el-button",{staticStyle:{float:"right",margin:"10px"},attrs:{type:"success"},on:{click:e.editFoo}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var q=a("Z0/y")(Z,V,!1,function(e){a("xPV4")},"data-v-e49ba77a",null).exports,Y=a("a3Yh"),X=a.n(Y)()({name:"travel_itinerary",data:function(){return{ticket:[],bus_ticket:[],chartered:[],schedule:[],isExist:!1,options:[{value:"成功",label:"成功"},{value:"失败",label:"失败"}],optionsCar:[{value:"包车接机",label:"包车接机"},{value:"包车送机",label:"包车送机"},{value:"包车全天",label:"包车全天"},{value:"包车点对点",label:"包车点对点"}]}},created:function(){},methods:{downExcel:function(){window.location.href=p.downItemExcelUrl+this.$route.params.mess.id},error:function(e){this.$message.error(e)},getData:function(){var e=this.$route.params.mess.id;return new d.a(function(t,a){f.a.ajax({type:"get",url:p.saveReservoUrl+e,crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(e){t(e)},error:function(e){a(e)}})})},saveAjax:function(){var e=this.ticket,t=this.bus_ticket,a=this.schedule,s=(this.chartered,!0),n=!1,l=void 0;try{for(var i,r=$()(e);!(s=(i=r.next()).done);s=!0){var c=i.value;if(!(c.name.length&&c.pdate&&c.pname.length&&c.ptype.length))return void this.error("请查看景点门票，需填写为红色*号的字段。");if(!/^[0-9]+$/.test(c.pmoney))return void this.error("客人门票报价必须为数字")}}catch(e){n=!0,l=e}finally{try{!s&&r.return&&r.return()}finally{if(n)throw l}}var u=!0,m=!1,v=void 0;try{for(var _,h=$()(t);!(u=(_=h.next()).done);u=!0){var b=_.value;if(!(b.from.length&&b.pname.length&&b.psection.length&&b.ptype.length&&b.towhere.length))return void this.error("请查看车票，需填写为红色*号的字段。");if(!/^[0-9]+$/.test(b.pmoney))return void this.error("客人门票报价必须为数字")}}catch(e){m=!0,v=e}finally{try{!u&&h.return&&h.return()}finally{if(m)throw v}}var g=!0,y=!1,x=void 0;try{for(var k,w=$()(a);!(g=(k=w.next()).done);g=!0){var C=k.value;if(!C.name.length||!C.scheduledproject.length)return void this.error("请查看车票，需填写为红色*号的字段。");if(!/^[0-9]+$/.test(C.pmoney))return void this.error("客人报价必须为数字")}}catch(e){y=!0,x=e}finally{try{!g&&w.return&&w.return()}finally{if(y)throw x}}var T={ticketEntities:this.ticket,busTicketEntities:this.bus_ticket,charteredEntities:this.chartered,scheduleList:this.schedule},U=this.$route.params.mess.id;return new d.a(function(e,t){f.a.ajax({type:"POST",data:o()(T),url:p.updateResourceUrl+U,crossDomain:!0,xhrFields:{withCredentials:!0},contentType:"application/json; charset=utf-8",dataType:"JSON",success:function(t){e(t)},error:function(e){t(e)}})})},saveTravel:function(){var e=this;this.saveAjax().then(function(t){200===t.code?e.$message.success(t.message):e.$message.error(t.message)})},ticketInsert:function(){this.ticket.push({name:"",pnumber:"",pname:"",ptype:"",pdate:"",pmoney:"",success:"",truemoney:"",profit:"",getway:""})},bus_ticketInsert:function(){this.bus_ticket.push({from:"",towhere:"",pname:"",ptype:"",psection:"",getplace:"",getdate:"",pmoney:"",success:"",truemoney:"",profit:""})},charteredInsert:function(){var e=this;setTimeout(function(){e.$notify({title:"接机送机填写须知",message:"须填写客人姓名、接机日期、航班号、人员构成、行李数、目的地酒店、举牌接机、包车报价。",duration:0})},500),setTimeout(function(){e.$notify({title:"点对点填写须知",message:"须填写客人姓名、行程开始城市、行程日期、出发时间、人员构成、行李数、上车地点、目的地、客人包车报价。",duration:0})},1e3),setTimeout(function(){e.$notify({title:"全天填写须知",message:"须填写客人姓名、上车地点、行程日期、出发时间、人员构成、行李数、选用车型、途中停留城市、结束时间、客人包车报价",duration:0})},1500),this.chartered.push({type:"",pname:"",planenumber:"",ptype:"",date:"",pdate:"",bagnumber:"",tohotel:"",card:"",pmoney:"",truemoney:"",profit:"",carplace:"",caretype:"",stopplace:"",endplace:"",enddate:""})},scheduleInsert:function(){this.schedule.push({name:"",scheduledproject:"",scheduledate:"",pmoney:"",success:"",truemoney:"",profit:""})},scheduleDel:function(e){this.schedule.splice(e,1)},ticketDel:function(e){this.ticket.splice(e,1)},bus_ticketDel:function(e){this.bus_ticket.splice(e,1)},charteredDel:function(e){this.chartered.splice(e,1)},getUTCTime:function(e){return(e=new Date(e)).toUTCString()}}},"created",function(){var e=this;this.getData().then(function(t){var a=t.message,s=!1;for(var n in a)a[n].length&&(s=!0);if(s){e.isExist=!0;var l=t.message,i=!0,r=!1,o=void 0;try{for(var c,d=$()(l.busTicketEntities);!(i=(c=d.next()).done);i=!0){var p=c.value;p.getdate=e.getUTCTime(p.getdate)}}catch(e){r=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(r)throw o}}var u=!0,m=!1,v=void 0;try{for(var _,f=$()(l.charteredEntities);!(u=(_=f.next()).done);u=!0){var h=_.value;h.date=e.getUTCTime(h.date),h.enddate=e.getUTCTime(h.enddate),h.pdate=e.getUTCTime(h.pdate)}}catch(e){m=!0,v=e}finally{try{!u&&f.return&&f.return()}finally{if(m)throw v}}var b=!0,g=!1,y=void 0;try{for(var x,k=$()(l.scheduleList);!(b=(x=k.next()).done);b=!0){var w=x.value;w.scheduledate=e.getUTCTime(w.scheduledate)}}catch(e){g=!0,y=e}finally{try{!b&&k.return&&k.return()}finally{if(g)throw y}}var C=!0,T=!1,U=void 0;try{for(var I,D=$()(l.ticketEntities);!(C=(I=D.next()).done);C=!0){var S=I.value;S.pdate=e.getUTCTime(S.pdate)}}catch(e){T=!0,U=e}finally{try{!C&&D.return&&D.return()}finally{if(T)throw U}}e.ticket=l.ticketEntities,e.bus_ticket=l.busTicketEntities,e.schedule=l.scheduleList,e.chartered=l.charteredEntities}})}),H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"travel_itinerary"},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("行程单（红色*号的字段为定制师填写） "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isExist,expression:"isExist"}],staticStyle:{float:"right"},attrs:{type:"success"},on:{click:e.downExcel}},[e._v("下载")])],1)]),e._v(" "),a("el-card",[a("div",{staticClass:"card_title"},[a("h3",[e._v("景点门票")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.ticket.length,expression:"!ticket.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.ticketInsert}})]),e._v(" "),e._l(e.ticket,function(t,s){return a("div",{staticClass:"ticket_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.ticketDel(s)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.ticketInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("景点名称"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入景点名称"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出行人数"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input-number",{attrs:{min:1,max:100,label:"描述文字"},model:{value:t.pnumber,callback:function(a){e.$set(t,"pnumber",a)},expression:"item.pnumber"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出行人姓名"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入出行人姓名"},model:{value:t.pname,callback:function(a){e.$set(t,"pname",a)},expression:"item.pname"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("人员构成"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"( )成人 ( )儿童"},model:{value:t.ptype,callback:function(a){e.$set(t,"ptype",a)},expression:"item.ptype"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("门票使用日期"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.pdate,callback:function(a){e.$set(t,"pdate",a)},expression:"item.pdate"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人门票报价"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入客人门票报价"},model:{value:t.pmoney,callback:function(a){e.$set(t,"pmoney",a)},expression:"item.pmoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("是否预订成功")]),e._v(" "),a("div",[a("el-select",{staticClass:"planeInput",attrs:{placeholder:"请选择"},model:{value:t.success,callback:function(a){e.$set(t,"success",a)},expression:"item.success"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("实际门票价格")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入实际门票价格"},model:{value:t.truemoney,callback:function(a){e.$set(t,"truemoney",a)},expression:"item.truemoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("利润")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入利润"},model:{value:t.profit,callback:function(a){e.$set(t,"profit",a)},expression:"item.profit"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("取票方式")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入取票方式"},model:{value:t.getway,callback:function(a){e.$set(t,"getway",a)},expression:"item.getway"}})],1)])})],2),e._v(" "),a("el-card",[a("div",{staticClass:"card_title"},[a("h3",[e._v("车票")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.bus_ticket.length,expression:"!bus_ticket.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.bus_ticketInsert}})]),e._v(" "),e._l(e.bus_ticket,function(t,s){return a("div",{staticClass:"ticket_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.bus_ticketDel(s)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.bus_ticketInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出发地"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入出发地"},model:{value:t.from,callback:function(a){e.$set(t,"from",a)},expression:"item.from"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("目的地"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入目的地"},model:{value:t.towhere,callback:function(a){e.$set(t,"towhere",a)},expression:"item.towhere"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出行人姓名"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入出行人姓名"},model:{value:t.pname,callback:function(a){e.$set(t,"pname",a)},expression:"item.pname"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("人员构成"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"( )成人 ( )儿童"},model:{value:t.ptype,callback:function(a){e.$set(t,"ptype",a)},expression:"item.ptype"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人用车日期（区间）"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入用车日期的区间"},model:{value:t.psection,callback:function(a){e.$set(t,"psection",a)},expression:"item.psection"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人取票地点"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入取票地点"},model:{value:t.getplace,callback:function(a){e.$set(t,"getplace",a)},expression:"item.getplace"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人取票时间"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.getdate,callback:function(a){e.$set(t,"getdate",a)},expression:"item.getdate"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人门票报价"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入客人门票报价"},model:{value:t.pmoney,callback:function(a){e.$set(t,"pmoney",a)},expression:"item.pmoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("是否预订成功")]),e._v(" "),a("div",[a("el-select",{staticClass:"planeInput",attrs:{placeholder:"请选择"},model:{value:t.success,callback:function(a){e.$set(t,"success",a)},expression:"item.success"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("实际门票价格")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入实际门票价格"},model:{value:t.truemoney,callback:function(a){e.$set(t,"truemoney",a)},expression:"item.truemoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("利润")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入利润"},model:{value:t.profit,callback:function(a){e.$set(t,"profit",a)},expression:"item.profit"}})],1)])})],2),e._v(" "),a("el-card",[a("div",{staticClass:"card_title"},[a("h3",[e._v("包车")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.chartered.length,expression:"!chartered.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.charteredInsert}})]),e._v(" "),e._l(e.chartered,function(t,s){return a("div",{staticClass:"ticket_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.charteredDel(s)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.charteredInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("类型"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-select",{staticClass:"planeInput",attrs:{placeholder:"请选择"},model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"item.type"}},e._l(e.optionsCar,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出行人姓名")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入出行人姓名"},model:{value:t.pname,callback:function(a){e.$set(t,"pname",a)},expression:"item.pname"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("航班号")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入航班号"},model:{value:t.planenumber,callback:function(a){e.$set(t,"planenumber",a)},expression:"item.planenumber"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("人员构成")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"( )成人 ( )儿童"},model:{value:t.ptype,callback:function(a){e.$set(t,"ptype",a)},expression:"item.ptype"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("行程日期/接机日期")]),e._v(" "),a("div",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"item.date"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出发时间/送机时间")]),e._v(" "),a("div",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.pdate,callback:function(a){e.$set(t,"pdate",a)},expression:"item.pdate"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("行李数")]),e._v(" "),a("div",[a("el-input-number",{attrs:{min:1,max:100,label:"描述文字"},model:{value:t.bagnumber,callback:function(a){e.$set(t,"bagnumber",a)},expression:"item.bagnumber"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("目的地酒店")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请填写目的地酒店"},model:{value:t.tohotel,callback:function(a){e.$set(t,"tohotel",a)},expression:"item.tohotel"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("上车地点")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入上车地点"},model:{value:t.carplace,callback:function(a){e.$set(t,"carplace",a)},expression:"item.carplace"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("车型")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入车型"},model:{value:t.caretype,callback:function(a){e.$set(t,"caretype",a)},expression:"item.caretype"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("途中停留城市（市内包车可不填）")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入途中停留城市"},model:{value:t.stopplace,callback:function(a){e.$set(t,"stopplace",a)},expression:"item.stopplace"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("行程结束城市/目的地")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入行程结束城市/目的地"},model:{value:t.endplace,callback:function(a){e.$set(t,"endplace",a)},expression:"item.endplace"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("结束时间")]),e._v(" "),a("div",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.enddate,callback:function(a){e.$set(t,"enddate",a)},expression:"item.enddate"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("举牌接机")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请填写是否举牌接机"},model:{value:t.card,callback:function(a){e.$set(t,"card",a)},expression:"item.card"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人报价")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入取票地点"},model:{value:t.pmoney,callback:function(a){e.$set(t,"pmoney",a)},expression:"item.pmoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("实际门票价格")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入实际门票价格"},model:{value:t.truemoney,callback:function(a){e.$set(t,"truemoney",a)},expression:"item.truemoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("利润")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入利润"},model:{value:t.profit,callback:function(a){e.$set(t,"profit",a)},expression:"item.profit"}})],1)])})],2),e._v(" "),a("el-card",[a("div",{staticClass:"card_title"},[a("h3",[e._v("其他")]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.schedule.length,expression:"!schedule.length"}],staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer",position:"relative",bottom:"20px"},on:{click:e.scheduleInsert}})]),e._v(" "),e._l(e.schedule,function(t,s){return a("div",{staticClass:"ticket_box"},[a("i",{staticClass:"el-icon-delete card_icon",staticStyle:{float:"right","margin-left":"20px",cursor:"pointer"},on:{click:function(t){e.scheduleDel(s)}}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus card_icon",staticStyle:{float:"right",cursor:"pointer"},on:{click:e.scheduleInsert}}),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("出行人姓名"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入出行人姓名"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("预定项目"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入预定项目"},model:{value:t.scheduledproject,callback:function(a){e.$set(t,"scheduledproject",a)},expression:"item.scheduledproject"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("预定时间"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.scheduledate,callback:function(a){e.$set(t,"scheduledate",a)},expression:"item.scheduledate"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("客人报价"),a("span",[e._v("*")])]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入客人报价"},model:{value:t.pmoney,callback:function(a){e.$set(t,"pmoney",a)},expression:"item.pmoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("是否预订成功")]),e._v(" "),a("div",[a("el-select",{staticClass:"planeInput",attrs:{placeholder:"请选择"},model:{value:t.success,callback:function(a){e.$set(t,"success",a)},expression:"item.success"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("实际价格")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入实际门票价格"},model:{value:t.truemoney,callback:function(a){e.$set(t,"truemoney",a)},expression:"item.truemoney"}})],1),e._v(" "),a("div",{staticClass:"planeTitle"},[e._v("利润")]),e._v(" "),a("div",[a("el-input",{staticClass:"planeInput",attrs:{placeholder:"请输入利润"},model:{value:t.profit,callback:function(a){e.$set(t,"profit",a)},expression:"item.profit"}})],1)])})],2),e._v(" "),a("el-button",{staticStyle:{margin:"10px",float:"right"},attrs:{type:"success"},on:{click:e.saveTravel}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var K=a("Z0/y")(X,H,!1,function(e){a("NY8e")},"data-v-67df21de",null).exports;s.default.use(i.a);var Q=new i.a({routes:[{path:"/",name:"login",component:w},{path:"/order",name:"order",component:L},{path:"/create",name:"create",component:A},{path:"/order_detail",name:"order_detail",component:G},{path:"/order_plane",name:"plane_comp",component:q},{path:"/travel_itinerary",name:"travel_itinerary",component:K}]}),ee=a("xUsN"),te=a.n(ee);a("NuO4");s.default.config.productionTip=!1,s.default.use(te.a),new s.default({el:"#app",router:Q,components:{App:l},template:"<App/>"})},NY8e:function(e,t){},NuO4:function(e,t){},Uq1t:function(e,t){},WRsb:function(e,t){},o1Jt:function(e,t){},quND:function(e,t){},vmvd:function(e,t){},vpRr:function(e,t){var a="http://112.124.107.209:8080/";e.exports={loginUrl:a+"travel/login",signUrl:a+"travel/save",saveUrl:a+"travel/trip/save",orderUrl:a+"travel/query/",detailUrl:a+"travel/getTrip?id=",uploadUrl:a+"travel/upload",deleteDetailUrl:a+"travel/dele/desc?id=",deleteDayUrl:a+"travel/dele/item?id=",deleteTripUrl:a+"travel/dele/trip?id=",editTripUrl:a+"travel/trip/update",editMsgUrl:a+"travel/trip/update/on",downExcelUrl:a+"travel/trip/excel/",downItemExcelUrl:a+"travel/reverse/excel?tripId=",saveReservoUrl:a+"travel/reverse/getByTripId?tripId=",updateResourceUrl:a+"travel/reservo/update?tripId="}},xPV4:function(e,t){},yuXM:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ae52b4b438f53b1c8a3e.js.map